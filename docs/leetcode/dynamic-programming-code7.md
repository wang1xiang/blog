---
date: 2025-3-22
title: è·Ÿç€å¡å“¥å­¦ç®—æ³•Day 39ï¼šåŠ¨æ€è§„åˆ’part7
tags:
  - leetcode
describe: åŠ¨æ€è§„åˆ’part7
---

## 198.æ‰“å®¶åŠ«èˆ ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/house-robber/description/) ğŸŒŸğŸŒŸ

### é¢˜ç›®æè¿°

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚

ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

- ç¤ºä¾‹ 1ï¼š
- è¾“å…¥ï¼š[1,2,3,1]
- è¾“å‡ºï¼š4

è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚ Â  å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚

- ç¤ºä¾‹ 2ï¼š
- è¾“å…¥ï¼š[2,7,9,3,1]
- è¾“å‡ºï¼š12 è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚ Â  å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚

æç¤ºï¼š

- 0 <= nums.length <= 100
- 0 <= nums[i] <= 400

### è§£é¢˜æ€è·¯

é€’æ¨å…³ç³»ï¼š**å½“å‰æˆ¿é—´å·ä¸ä¸å·ï¼Œä¾èµ–å‰ä¸€ä¸ªå’Œå‰äºŒä¸ªæˆ¿é—´æ˜¯å¦è¢«å·çš„çŠ¶æ€**

åŠ¨è§„äº”éƒ¨æ›²ï¼š

1. ç¡®å®š dp æ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰

   dp[i]ï¼šè¡¨ç¤ºåŒ…å«ä¸‹æ ‡ i ä¹‹å‰çš„æˆ¿é—´ï¼Œæœ€å¤šå¯ä»¥å·çªƒçš„é‡‘é¢

2. ç¡®å®šé€’æ¨å…¬å¼

   å‡å¦‚å½“å‰æˆ¿é—´ä¸º iï¼Œæœ‰ä¸¤ç§çŠ¶æ€ï¼š

   1. å· i

      i-1 ä¸ªæˆ¿é—´ä¸èƒ½å·ï¼Œæ‰¾å‡ºå‰ i-2ï¼ˆåŒ…å« i-2ï¼‰ä¹‹å‰çš„æˆ¿é—´ï¼Œæœ€å¤šå¯ä»¥å·çªƒçš„é‡‘é¢ + ç¬¬ i ä¸ªæˆ¿é—´å·åˆ°çš„é‡‘é¢

      ```js
      dp[i] = dp[i - 2] + nums[i]
      ```

   2. ä¸å· i

      å‰ i-1 ä¸ªæˆ¿é—´æœ€å¤šå¯ä»¥å·çªƒçš„é‡‘é¢

      ```js
      dp[i] = dp[i - 1]
      ```

   ```js
   // é€’æ¨å…¬å¼ä¸º
   dp[j] = Math.max(dp[j - 2] + nums[j], dp[j - 1])
   ```

3. dp æ•°ç»„åˆå§‹åŒ–

   ä»é€’æ¨å…¬å¼å¾—å‡ºéœ€è¦è€ƒè™‘ dp[i-1]å’Œ dp[i-2]ï¼Œæ‰€ä»¥å¿…é¡»åˆå§‹åŒ– dp[0]å’Œ dp[1]

   - `dp[0] = nums[0]`ï¼Œdp[0]ä¸€å®šæ˜¯ nums[0]ï¼Œä¸€å®šå·ç¬¬ä¸€ä¸ªæˆ¿é—´
   - `dp[1] = Math.max(nums[0], nums[1])`, é€‰ 1 å’Œ 2 ä¹‹é—´çš„æœ€å¤§å€¼

4. ç¡®å®šéå†é¡ºåº

   i ä» 2 å¼€å§‹éå†

5. ä¸¾ä¾‹æ¨å¯¼ dp æ•°ç»„

   ä»¥ nums = [2,7,9,3,1] ä¸ºä¾‹ï¼Œå¾—åˆ°çš„ dp æ•°ç»„ä¸ºï¼š

   ```js
   dp = [2, 7, 11, 11, 12]
   ```

### ä»£ç 

```js
function rob(nums) {
  const n = nums.length
  const dp = new Array(n).fill(0)

  dp[0] = nums[0]
  dp[1] = Math.max(nums[0], nums[1])

  for (let i = 2; i < n; i++) {
    dp[i] = Math.max(dp[i - 1], dp[i - 2] + nums[i])
  }
  console.log(dp)

  return dp[n - 1]
}
```

## 213.æ‰“å®¶åŠ«èˆ II ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/house-robber-ii/description/) ğŸŒŸğŸŒŸ

### é¢˜ç›®æè¿°

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½ å›´æˆä¸€åœˆ ï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ ã€‚

ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

ç¤ºä¾‹ Â 1ï¼š

- è¾“å‡ºï¼š3
- è§£é‡Šï¼šä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚
- ç¤ºä¾‹ 2ï¼š
- è¾“å‡ºï¼š4
- è§£é‡Šï¼šä½ å¯ä»¥å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 1ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 3ï¼‰ã€‚å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚
- ç¤ºä¾‹ 3ï¼š
- è¾“å‡ºï¼š0

æç¤ºï¼š

- 1 <= nums.length <= 100

### è§£é¢˜æ€è·¯

**é¦–å°¾è¿æˆç¯ï¼Œæ„å‘³ç€é¦–ä½ç›¸é‚»ï¼Œæ‰€ä»¥é€‰æ‹©é¦–ï¼Œå°±ä¸èƒ½é€‰æ‹©å°¾ï¼Œä¸¤è€…åªèƒ½é€‰å…¶ä¸€ï¼Œæˆ–éƒ½ä¸é€‰æ‹©**

ä»¥ nums=[1,6,1,9,1]ä¸ºä¾‹ï¼š

- æƒ…å†µä¸€ï¼šä¸è€ƒè™‘é¦–å°¾å…ƒç´ 

  æ­¤æ—¶ nums=[6,1,9]

- æƒ…å†µäºŒï¼šä¸è€ƒè™‘å°¾å…ƒç´ 

  æ­¤æ—¶ nums=[1,6,1,9]

- æƒ…å†µä¸‰ï¼šä¸è€ƒè™‘é¦–å…ƒç´ 

  æ­¤æ—¶ nums=[6,1,9,1]

**æƒ…å†µäºŒå’Œæƒ…å†µä¸‰å·²ç»åŒ…å«æƒ…å†µä¸€äº†**ï¼Œæ¥ä¸‹æ¥å°±ç±»ä¼¼äº[æ‰“å®¶åŠ«èˆæ€è·¯](#198æ‰“å®¶åŠ«èˆ-)

#### ä»£ç 

```js
var rob = function (nums) {
  const robRange = (nums, start, end) => {
    if (end === start) return nums[start]
    const dp = new Array(nums.length).fill(0)
    dp[start] = nums[start]
    dp[start + 1] = Math.max(nums[start], nums[start + 1])

    for (let i = start + 2; i <= end; i++) {
      dp[i] = Math.max(dp[i - 1], dp[i - 2] + nums[i])
    }
    console.log(dp)
    return dp[end]
  }

  const n = nums.length
  const result1 = robRange(nums, 0, n - 2)
  const result2 = robRange(nums, 1, n - 1)

  return Math.max(result1, result2)
}
```

## 337.æ‰“å®¶åŠ«èˆ III ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/word-break/description/) ğŸŒŸğŸŒŸ

### é¢˜ç›®æè¿°

åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚

è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚

![dynamic-programming-code71](./images/dynamic-programming-code71.png)

### è§£é¢˜æ€è·¯

æ ‘å½¢ç»“æ„å·é’±ï¼Œ**æ ‘å½¢ç»“æ„çŠ¶æ€è½¬ç§»**

**æœ¬é¢˜ä¸€å®šæ˜¯è¦ååºéå†ï¼Œå› ä¸ºé€šè¿‡é€’å½’å‡½æ•°çš„è¿”å›å€¼æ¥åšä¸‹ä¸€æ­¥è®¡ç®—**

æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸¤ç§çŠ¶æ€ï¼š**å·ã€ä¸å·ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º 2 çš„æ•°ç»„ï¼Œè®°å½•å½“å‰èŠ‚ç‚¹è·å–çš„æœ€å¤§é‡‘é¢**

- dp[0]è®°å½•ä¸å·å½“å‰èŠ‚ç‚¹çš„æœ€å¤§é‡‘é¢
- dp[1]è®°å½•å·å½“å‰èŠ‚ç‚¹çš„æœ€å¤§é‡‘é¢

ä¸ç”¨å®šä¹‰æ¯ä¸ªèŠ‚ç‚¹çš„ dp æ•°ç»„ï¼šæ¯å±‚é€’å½’éƒ½æœ‰ä¸€ä¸ªé•¿åº¦ä¸º 2 çš„ dp æ•°ç»„ï¼Œå½“å‰å±‚çš„ dp æ•°ç»„è¡¨ç¤ºå½“å‰èŠ‚ç‚¹çš„çŠ¶æ€

é€’å½’ä¸‰éƒ¨æ›²ï¼š

1. ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼

   - å‚æ•°ï¼šå½“å‰èŠ‚ç‚¹
   - è¿”å›å€¼ï¼šé•¿åº¦ä¸º 2 çš„æ•°ç»„ï¼Œè¡¨ç¤ºå½“å‰èŠ‚ç‚¹å·å’Œä¸å·çš„æœ€å¤§é‡‘é¢

2. å–å®šé€’å½’çš„ç»ˆæ­¢æ¡ä»¶

   - å¦‚æœå½“å‰èŠ‚ç‚¹ä¸º nullï¼Œè¿”å›[0, 0]

3. ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘

   - é€’å½’å·¦å­æ ‘ï¼Œå¾—åˆ°å·¦å­©å­å·ä¸ä¸å·çš„æœ€å¤§é‡‘é¢
   - é€’å½’å³å­æ ‘ï¼Œå¾—åˆ°å³å­©å­å·ä¸ä¸å·çš„æœ€å¤§é‡‘é¢

   - å·å½“å‰èŠ‚ç‚¹ï¼Œå·¦å³å­©å­åªèƒ½ä¸å· `val1 = left[0] + right[0] + root.val`
   - ä¸å·å½“å‰èŠ‚ç‚¹ï¼Œå·¦å³å­©å­å°±å¯ä»¥å·ï¼Œå·¦å³å­©å­å·ä¸ä¸å·ï¼Œå–å†³äºå·¦å­©å­ left[0]å’Œ left[1]çš„æœ€å¤§å€¼ï¼Œå³å­©å­ right[0]å’Œ right[1]çš„æœ€å¤§å€¼ `val2 = Math.max(left[0], left[1]) + Math.max(right[0], right[1])`

### ä»£ç 

```js
var rob = function (root) {
  const postOrder = (root) => {
    // ç©ºèŠ‚ç‚¹ è¿”å›dpæ•°ç»„ä¸º å·ä¸ä¸å·çš„é‡‘é¢[0, 0]
    if (!root) return [0, 0]

    // éå†å·¦å³å­æ ‘ å¾—åˆ°å·ä¸ä¸å·çš„æœ€å¤§é‡‘é¢
    const left = postOrder(root.left)
    const right = postOrder(root.right)

    // dp[0]ä¸å· dp[1] å·
    // ä¸å·å½“å‰ å·¦å³èŠ‚ç‚¹å–å·ä¸ä¸å·çš„æœ€å¤§å€¼
    const val1 = Math.max(left[0], left[1]) + Math.max(right[0], right[1])
    // å·å½“å‰èŠ‚ç‚¹ é‚£ä¹ˆä¸å·å·¦å³èŠ‚ç‚¹
    const val2 = left[0] + right[0] + root.val

    // [ä¸å·, å·]
    return [val1, val2]
  }
  const res = postOrder(root)

  return Math.max(...res)
}
```
