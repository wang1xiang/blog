---
date: 2025-2-14
title: è·Ÿç€å¡å“¥å­¦ç®—æ³•Day 4ï¼šé“¾è¡¨ä¸­ç­‰é¢˜ç›®
tags:
  - leetcode
describe: é“¾è¡¨ä¸­ç­‰é¢˜ç›®
---

## 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/swap-nodes-in-pairs/description/)

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚

ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

### æ€è·¯

### è™šæ‹Ÿå¤´èŠ‚ç‚¹

```js
const head = new ListNode(0, head)
```

- ä»€ä¹ˆæ—¶å€™éå†ç»“æŸ

  ```js
  // å¥‡æ•°èŠ‚ç‚¹ cur.next.next = null
  // å¶æ•°èŠ‚ç‚¹ cur.next = null
  cur.next !== null && cur.next.next !== null
  ```

- ä¸¤ä¸¤äº¤æ¢èŠ‚ç‚¹å³å¯

  æ¯æ¬¡ 1 å’Œ 3 éƒ½ä¼šæ–­æ‰ï¼Œæ‰€ä»¥éœ€è¦æå‰ä¿å­˜ä¸‹æ¥

  ```js
  // èŠ‚ç‚¹1
  let temp = cur.next
  // èŠ‚ç‚¹3
  let temp1 = cur.next.next.next

  cur.next = cur.next.next
  cur.next.next = temp
  temp.next = temp1
  // ç§»åŠ¨
  cur = cur.next.next
  ```

### ä»£ç 

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val, next) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.next = (next===undefined ? null : next)
 * }
 */
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var swapPairs = function (head) {
  const data = new ListNode(0, head)
  let cur = data
  while (cur.next && cur.next.next) {
    // èŠ‚ç‚¹1
    let temp = cur.next
    // èŠ‚ç‚¹3
    let temp1 = cur.next.next.next

    cur.next = cur.next.next
    cur.next.next = temp
    temp.next = temp1
    cur = cur.next.next
  }
  return data.next
}
```

## 19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªèŠ‚ç‚¹ ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)

### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚

è¿›é˜¶ï¼šä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ

```text
è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2 è¾“å‡ºï¼š[1,2,3,5]

è¾“å…¥ï¼šhead = [1], n = 1 è¾“å‡ºï¼š[]

è¾“å…¥ï¼šhead = [1,2], n = 1 è¾“å‡ºï¼š[1]
```

### æ€è·¯

**é‡ç‚¹**

- **å¿«æ…¢æŒ‡é’ˆï¼šå¿«æŒ‡é’ˆç§»åŠ¨ n+1 æ­¥ï¼Œå¿«æ…¢æŒ‡é’ˆåŒæ—¶ç§»åŠ¨**
- å¿«æŒ‡é’ˆæŒ‡å‘é“¾è¡¨æœ«å°¾ï¼Œæ…¢æŒ‡é’ˆåˆšå¥½æŒ‡å‘åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹æ’å…¥ï¼Œå¿…é¡»çŸ¥é“å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³ç¬¬ n ä¸ªèŠ‚ç‚¹ä¸€å®šæ˜¯ curNode.next

### ä»£ç 

```ts
var removeNthFromEnd = function (head, n) {
  let data = new ListNode(0, head)
  let fast = data
  let slow = data

  while (n) {
    fast = fast.next
    n--
  }
  while (fast.next !== null) {
    fast = fast.next
    slow = slow.next
  }
  slow.next = slow.next.next

  return data.next
}
```

## é¢è¯•é¢˜ 02.07. é“¾è¡¨ç›¸äº¤ ğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/description/)

### é¢˜ç›®æè¿°

ç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null ã€‚

### æ€è·¯

ä¸¤ä¸ªå•é“¾è¡¨ä»äº¤ç‚¹å¼€å§‹ï¼Œåé¢çš„èŠ‚ç‚¹éƒ½æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚

å¦‚ï¼š

```text
é“¾è¡¨ Aï¼š4 â†’ 1 â†’ 8 â†’ 4 â†’ 5
é“¾è¡¨ Bï¼š5 â†’ 6 â†’ 1 â†’ 8 â†’ 4 â†’ 5
```

ä»èŠ‚ç‚¹ 8 å¼€å§‹ï¼Œåé¢çš„èŠ‚ç‚¹éƒ½æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚

- è·å–ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ï¼ˆéå†ï¼‰ï¼Œå°†é•¿é“¾è¡¨æ”¾åœ¨å‰é¢ï¼ŒçŸ­é“¾è¡¨æ”¾åœ¨åé¢
- æ±‚é•¿åº¦å·®ï¼Œå°†é•¿é“¾è¡¨æŒ‡é’ˆå‘åç§»åŠ¨é•¿åº¦å·®ä½ï¼Œç›´åˆ°ä¸¤ä¸ªé“¾è¡¨æŒ‡é’ˆç›¸ç­‰
- éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨èŠ‚ç‚¹ç›¸ç­‰ï¼Œåˆ™è¿”å›è¯¥èŠ‚ç‚¹

### ä»£ç 

```js
var getLength = function (head) {
  let size = 0,
    cur = head
  while (cur) {
    size++
    cur = cur.next
  }
  return size
}
var getIntersectionNode = function (headA, headB) {
  let curA = headA,
    curB = headB

  let lenA = getLength(headA)
  let lenB = getLength(headB)

  if (lenA < lenB) {
    ;[curA, curB] = [curB, curA]
    ;[lenA, lenB] = [lenB, lenA]
  }

  let i = lenA - lenB
  while (i-- > 0) {
    curA = curA.next
  }
  while (curA && curA !== curB) {
    curA = curA.next
    curB = curB.next
  }
  return curA
}
```

## 142.ç¯å½¢é“¾è¡¨ II ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/linked-list-cycle-ii/description/)

### é¢˜ç›®æè¿°

é¢˜æ„ï¼š ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚

è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

### æ€è·¯

#### åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯

å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆç§»åŠ¨ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œæ…¢æŒ‡é’ˆç§»åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæœ€ç»ˆéƒ½æŒ‡å‘ nullï¼Œåˆ™è¯´æ˜æ²¡æœ‰ç¯ï¼›å¦‚æœå¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜é“¾è¡¨ä¸€å®šæœ‰ç¯

```text
head = [3,2,0,-4], pos = 1
è¿™é‡Œ pos = 1 ä»£è¡¨ç´¢å¼• 1 å¤„çš„èŠ‚ç‚¹ï¼ˆå€¼ä¸º 2ï¼‰æ˜¯ç¯çš„å…¥å£èŠ‚ç‚¹ï¼Œè¡¨ç¤º -4 æŒ‡å‘ 2ï¼Œå½¢æˆç¯ã€‚
```

è¿”å›ç´¢å¼•ä¸º 1 çš„èŠ‚ç‚¹

#### å¦‚ä½•æ‰¾åˆ°ç¯çš„å…¥å£

å˜é‡å®šä¹‰

- xï¼šä»é“¾è¡¨å¤´åˆ°ç¯å…¥å£çš„è·ç¦»ï¼ˆèŠ‚ç‚¹æ•°ï¼‰ã€‚
- yï¼šä»ç¯å…¥å£åˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡ç‚¹çš„è·ç¦»ã€‚
- zï¼šä»ç›¸é‡ç‚¹èµ°åˆ°ç¯å…¥å£çš„å‰©ä½™è·ç¦»ï¼ˆä¹Ÿå°±æ˜¯ç¯çš„é•¿åº¦å‡å» yï¼‰ã€‚

å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶çš„å…³ç³»ï¼š

- slow æŒ‡é’ˆ èµ°äº† `x + y` æ­¥ã€‚
- fast æŒ‡é’ˆ èµ°äº† `x + y + n(y + z)` æ­¥ï¼Œå…¶ä¸­ `n` ä¸ºå¿«æŒ‡é’ˆåœ¨ç¯ä¸­è½¬è¿‡çš„åœˆæ•°ï¼Œï¼ˆè‡³å°‘ n = 1ï¼‰

å› ä¸º fast æŒ‡é’ˆç§»åŠ¨é€Ÿåº¦æ˜¯ slow æŒ‡é’ˆçš„ä¸¤å€ï¼Œæ‰€ä»¥

```js
2(x + y) = x + y + n(y + z)
```

ä¸¤è¾¹æ¶ˆæ‰ `x + y`ï¼Œå¾—åˆ°

```js
x + y = n (y + z)
```

æ±‚ç¯å½¢å…¥å£ï¼Œå³å¤´èŠ‚ç‚¹åˆ°ç¯å½¢å…¥å£èŠ‚ç‚¹çš„è·ç¦»`x`ï¼Œå¾—åˆ°

```js
x = n(y + z) - y
x = (n - 1)(y + z) + z
```

æ­¤æ—¶ï¼Œå¦‚æœ `n = 1`ï¼Œå³å¿«æŒ‡é’ˆ fast è½¬ä¸€åœˆå°±é‡åˆ°äº†æ…¢æŒ‡é’ˆ slowï¼Œç®€åŒ–ä¸º `x = z`ï¼Œå³**ä»å¤´èŠ‚ç‚¹å’Œç›¸é‡èŠ‚ç‚¹åŒæ—¶å‡ºå‘ä¸€ä¸ªæŒ‡é’ˆï¼Œæ¯æ¬¡åªèµ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆç›¸é‡èŠ‚ç‚¹å°±æ˜¯ç¯å½¢å…¥å£èŠ‚ç‚¹**ã€‚

å½“ n å¤§äº 1 æ—¶ï¼Œå³**ç›¸é‡èŠ‚ç‚¹çš„æŒ‡é’ˆåœ¨åœˆå†…è½¬äº†nåœˆåï¼Œåœ¨ç¯å½¢èŠ‚ç‚¹å…¥å£é‡åˆ°äº†ä»å¤´èŠ‚ç‚¹å‡ºå‘çš„æŒ‡é’ˆ**

æ—¶é—´å¤æ‚åº¦: O(n)ï¼Œå¿«æ…¢æŒ‡é’ˆç›¸é‡å‰ï¼ŒæŒ‡é’ˆèµ°çš„æ¬¡æ•°å°äºé“¾è¡¨é•¿åº¦ï¼Œå¿«æ…¢æŒ‡é’ˆç›¸é‡åï¼Œä¸¤ä¸ªindexæŒ‡é’ˆèµ°çš„æ¬¡æ•°ä¹Ÿå°äºé“¾è¡¨é•¿åº¦ï¼Œæ€»ä½“ä¸ºèµ°çš„æ¬¡æ•°å°äº 2n


### ä»£ç 

```js
var detectCycle = function(head) {
    if(!head || !head.next) return null;
    let slow = head.next, fast = head.next.next;
    while(fast && fast.next && fast!== slow) {
        slow = slow.next;
        fast = fast.next.next;
    }
    if(!fast || !fast.next ) return null;
    slow = head;
    while (fast !== slow) {
        slow = slow.next;
        fast = fast.next;
    }
    return slow;
};
```