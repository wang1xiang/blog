---
date: 2025-3-14
title: è·Ÿç€å¡å“¥å­¦ç®—æ³•Day 31ï¼šè´ªå¿ƒç®—æ³•part5
tags:
  - leetcode
describe: è´ªå¿ƒç®—æ³•part5
---

## 56. åˆå¹¶åŒºé—´ ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/merge-intervals/description/) ğŸŒŸğŸŒŸ

### é¢˜ç›®æè¿°

ç»™å‡ºä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œè¯·åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚

ç¤ºä¾‹ 1:

- è¾“å…¥: intervals = [[1,3],[2,6],[8,10],[15,18]]
- è¾“å‡º: [[1,6],[8,10],[15,18]]
- è§£é‡Š: åŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].

ç¤ºä¾‹ Â 2:

- è¾“å…¥: intervals = [[1,4],[4,5]]
- è¾“å‡º: [[1,5]]
- è§£é‡Š: åŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚
- æ³¨æ„ï¼šè¾“å…¥ç±»å‹å·²äº 2019 å¹´ 4 æœˆ 15 æ—¥æ›´æ”¹ã€‚ è¯·é‡ç½®é»˜è®¤ä»£ç å®šä¹‰ä»¥è·å–æ–°æ–¹æ³•ç­¾åã€‚

### è§£é¢˜æ€è·¯

ç±»ä¼¼ä¸Šç¯‡ [452. ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ](./greedy-algorithmc-code4.md/#452-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ-)å’Œ[435. æ— é‡å åŒºé—´](./greedy-algorithmc-code4.md/#435-æ— é‡å åŒºé—´-)

é¢˜è§£ï¼š

1. æŒ‰èµ·å§‹ç‚¹ä»å°åˆ°å¤§æ’åº
2. å¦‚æœ `intervals[i][0] <= intervals[i - 1][1]`ï¼Œå³å½“å‰å·¦è¾¹ç•Œå°äºä¸Šä¸€ä¸ªå³è¾¹ç•Œï¼Œåˆ™ä¸€å®šæœ‰é‡å 
3. åˆå¹¶åŒºé—´ï¼Œæ›´æ–°å³è¾¹ç•Œä¸º `Math.max(intervals[i][1], intervals[i - 1][1])`ï¼Œåˆå¹¶ä¸º `[intervals[i - 1][0], max(intervals[i - 1][1], intervals[i][1])]`
4. æ²¡æœ‰é‡å ï¼Œåˆ™ç›´æ¥æ·»åŠ è¿›æ•°ç»„

```js
var merge = function (intervals) {
  intervals.sort((a, b) => a[0] - b[0])
  const result = []
  // åˆå§‹åŒ–å‰ä¸€ä¸ªåŒºé—´ä¸ºæ’åºåçš„ç¬¬ä¸€ä¸ªåŒºé—´
  let preInterval = intervals[0]
  for (let i = 1; i < intervals.length; i++) {
    const curInterval = intervals[i]

    // åˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸å‰ä¸€ä¸ªåŒºé—´é‡å 
    if (curInterval[0] <= preInterval[1]) {
      // åˆå¹¶åŒºé—´ï¼šæ›´æ–°å‰ä¸€ä¸ªåŒºé—´çš„ç»“æŸç‚¹ä¸ºä¸¤è€…ä¸­çš„è¾ƒå¤§å€¼
      preInterval[1] = Math.max(curInterval[1], preInterval[1])
    } else {
      // æ— é‡å æ—¶ï¼Œå°†å‰ä¸€ä¸ªåŒºé—´åŠ å…¥ç»“æœï¼Œå¹¶æ›´æ–°ä¸ºå½“å‰åŒºé—´
      result.push(preInterval)
      preInterval = curInterval
    }
  }

  // å°†æœ€åä¸€ä¸ªåˆå¹¶åçš„åŒºé—´åŠ å…¥ç»“æœ
  result.push(preInterval)
  return result
}
```

#### ç¤ºä¾‹

è¾“å…¥ï¼š`[[1,3],[2,6],[8,10],[15,18]]`  
æ‰§è¡Œè¿‡ç¨‹ï¼š

1. æ’åºåé¡ºåºä¸å˜
2. åˆå¹¶ `[1,3]` å’Œ `[2,6]` â†’ `[1,6]`
3. `[8,10]` ä¸å‰ä¸€ä¸ªåŒºé—´æ— é‡å ï¼Œ`[1,6]`åŠ å…¥ç»“æœ
4. `[15,18]` æ— é‡å ï¼Œ`[8,10]`åŠ å…¥ç»“æœ
5. `[15,18]`åŠ å…¥ç»“æœ

è¾“å‡ºï¼š`[[1,6],[8,10],[15,18]]`

## 738.å•è°ƒé€’å¢çš„æ•°å­— ğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/monotone-increasing-digits/) ğŸŒŸğŸŒŸ

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° Â Nï¼Œæ‰¾å‡ºå°äºæˆ–ç­‰äº Â NÂ  çš„æœ€å¤§çš„æ•´æ•°ï¼ŒåŒæ—¶è¿™ä¸ªæ•´æ•°éœ€è¦æ»¡è¶³å…¶å„ä¸ªä½æ•°ä¸Šçš„æ•°å­—æ˜¯å•è°ƒé€’å¢ã€‚

ï¼ˆå½“ä¸”ä»…å½“æ¯ä¸ªç›¸é‚»ä½æ•°ä¸Šçš„æ•°å­— Â xÂ  å’Œ Â yÂ  æ»¡è¶³ Â x <= yÂ  æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ•´æ•°æ˜¯å•è°ƒé€’å¢çš„ã€‚ï¼‰

ç¤ºä¾‹ 1:

- è¾“å…¥: N = 10
- è¾“å‡º: 9

ç¤ºä¾‹ 2:

- è¾“å…¥: N = 1234
- è¾“å‡º: 1234

ç¤ºä¾‹ 3:

- è¾“å…¥: N = 332
- è¾“å‡º: 299

è¯´æ˜: NÂ  æ˜¯åœ¨ Â [0, 10^9]Â  èŒƒå›´å†…çš„ä¸€ä¸ªæ•´æ•°ã€‚

### è§£é¢˜æ€è·¯

#### æš´åŠ›æ³•

ä»å½“å‰æ•°å­—é€’å‡ï¼ŒæŒ¨ä¸ªåˆ¤æ–­æ˜¯å¦ä¸ºé€’å¢

```js
// åˆ¤æ–­ä¸€ä¸ªæ•°å­—çš„å„ä½ä¸Šæ˜¯å¦æ˜¯é€’å¢
const checkNum = (num) => {
  let max = 10
  while (num) {
    let t = num % 10
    if (max >= t) max = t
    else return false
    num = Math.floor(num / 10)
  }
  return true
}

const monotoneIncreasingDigits = (N) => {
  for (let i = N; i > 0; i--) {
    // ä»å¤§åˆ°å°éå†
    if (this.checkNum(i)) return i
  }
  return 0
}
```

#### è´ªå¿ƒæ³•

ä¸¾ä¾‹ï¼šå¦‚æœ N=98ï¼Œä¸€æ—¦å‡ºç° num[i - 1] > num[i]æ—¶ï¼Œé¦–å…ˆç»™ num[i-1]--ï¼Œç„¶å num[i]ç»™ä¸º 9ï¼Œè¿™ä¸ªæ•°å°±æ˜¯ 89ï¼Œæ»¡è¶³æœ€å¤§çš„å•è°ƒé€’å¢æ•´æ•°ã€‚

**éå†æ–¹å¼å¦‚ä½•ç¡®å®šï¼Ÿ**

1. æ€è€ƒå¦‚æœä»å‰å¾€åéå†ï¼Œé‡åˆ° `num[i - 1] > num[i]` æ—¶ï¼Œå¦‚æœè®© `num[i - 1]--`ï¼Œæ­¤æ—¶å¯èƒ½å‡ºç° `num[i - 1] < num[i - 2]`ï¼Œå¦‚æ•°å­— 332ï¼Œä»å‰å¾€åéå†ä¼šå˜ä¸º 329ï¼Œä¸ç¬¦åˆ
2. ä»åå¾€å‰éå†ï¼Œé‡åˆ° `num[i] < num[i + 1]` æ—¶ï¼Œå¦‚æœè®© `num[i]--`ï¼Œæ­¤æ—¶ä¸ä¼šå½±å“å‰é¢çš„æ•°å­—ï¼Œå¦‚æ•°å­— 332ï¼Œä»åå¾€å‰éå†å…ˆå˜ä¸º 329ï¼Œç»§ç»­éå†ä¸º 299ï¼Œç¬¦åˆ

**æ³¨æ„ï¼šæ‰¾åˆ°æœ€å‰é¢æ˜¯é€’å‡çš„ä½ç½®ï¼Œç„¶åè®©è¿™ä¸ªä½ç½®çš„æ•°å‡ä¸€ï¼Œåé¢ä½ç½®éƒ½ä¸º 9ï¼Œè¿™æ ·ä¿è¯æ•°å€¼å°½å¯èƒ½å¤§**

å¦‚ï¼š100ï¼Œä»åå¾€å‰éå†ï¼Œæ‰¾åˆ°é€’å‡çš„ä½ç½®ä¸º 1ï¼Œåé¢ä½ç½®éƒ½ä¸º 9ï¼Œå³ä¸º 99

```js
var monotoneIncreasingDigits = function (n) {
  n = n
    .toString()
    .split('')
    .map((item) => +item)

  const len = n.length
  // ç¬¬ä¸€ä¸ªé€’å‡çš„ä½ç½®flag
  let flag = Infinity
  for (let i = len - 1; i > 0; i--) {
    if (n[i - 1] > n[i]) {
      flag = i
      n[i - 1]--
      n[i] = 9
    }
  }
  // å°†flag ä¹‹åçš„æ‰€æœ‰ä½è®¾ä¸º9ï¼Œä¿è¯æ•°å€¼å°½å¯èƒ½å¤§
  for (let i = flag; i < n.length; i++) {
    n[i] = 9
  }

  return +n.join('')
}
```

## 968.ç›‘æ§äºŒå‰æ ‘ ğŸŒŸğŸŒŸğŸŒŸ

[åŠ›æ‰£é“¾æ¥](https://leetcode.cn/problems/binary-tree-cameras/description/) ğŸŒŸğŸŒŸğŸŒŸ

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚

èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚

è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚

ç¤ºä¾‹ 1ï¼š

![greedy-algorithmc-code5](./images/greedy-algorithmc-code51.png)

- è¾“å…¥ï¼š[0,0,null,0,0]
- è¾“å‡ºï¼š1
- è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºï¼Œä¸€å°æ‘„åƒå¤´è¶³ä»¥ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚

ç¤ºä¾‹ 2ï¼š

![greedy-algorithmc-code5](./images/greedy-algorithmc-code52.png)

- è¾“å…¥ï¼š[0,0,null,0,null,0,null,null,0]
- è¾“å‡ºï¼š2
- è§£é‡Šï¼šéœ€è¦è‡³å°‘ä¸¤ä¸ªæ‘„åƒå¤´æ¥ç›‘è§†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†æ‘„åƒå¤´æ”¾ç½®çš„æœ‰æ•ˆä½ç½®ä¹‹ä¸€ã€‚

æç¤ºï¼š

- ç»™å®šæ ‘çš„èŠ‚ç‚¹æ•°çš„èŒƒå›´æ˜¯ [1, 1000]ã€‚
- æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 0ã€‚

### è§£é¢˜æ€è·¯

äºŒå‰æ ‘ä¸è´ªå¿ƒæ³•çš„ç»“åˆ â—ï¸â—ï¸â—ï¸

#### å¦‚ä½•æ”¾ç½®æ‘„åƒå¤´ï¼Ÿ

- æ‘„åƒå¤´è¦†ç›–ä¸Šä¸­ä¸‹ä¸‰å±‚
- æ‘„åƒå¤´ä¸ä¼šæ”¾åœ¨å¤´èŠ‚ç‚¹ï¼Œæµªè´¹ä¸€ä¸ª
- æ‘„åƒå¤´ä¸ä¼šæ”¾åœ¨å¶å­èŠ‚ç‚¹ï¼Œæµªè´¹ä¸€å †
- æ‘„åƒå¤´æ”¾åœ¨å¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå……åˆ†åˆ©ç”¨æ‘„åƒå¤´
- åº”ä½¿ç”¨ååºéå†

  ```js
  function traverse(root) {
    if (!root) return

    traverse(root.left)
    traverse(root.right)

    // å¤„ç†ä¸­é—´èŠ‚ç‚¹
  }
  ```

**å±€éƒ¨æœ€ä¼˜ï¼šè®©å¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å®‰è£…æ‘„åƒå¤´ï¼Œæ‰€æœ‰æ‘„åƒå¤´æœ€å°‘**
**å…¨å±€æœ€ä¼˜ï¼šæ”¾ç½®æœ€å°‘çš„æ‘„åƒå¤´**

#### å¦‚ä½•éš”ä¸¤ä¸ªèŠ‚ç‚¹æ”¾ä¸€ä¸ªæ‘„åƒå¤´

éœ€è¦çŠ¶æ€è½¬ç§»ï¼Œé¦–å…ˆæœ‰ä¸‰ç§çŠ¶æ€ï¼š

- 0: è¯¥èŠ‚ç‚¹æ— è¦†ç›–
- 1: è¯¥èŠ‚ç‚¹è¢«è¦†ç›–ï¼Œä½†æ²¡æœ‰å®‰è£…æ‘„åƒå¤´
- 2: è¯¥èŠ‚ç‚¹è¢«è¦†ç›–ï¼Œä¸”å®‰è£…æ‘„åƒå¤´

ä¸ºä½¿æ‘„åƒå¤´æœ€å°‘ï¼Œåº”è¯¥å¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å®‰è£…æ‘„åƒå¤´ï¼Œé‚£ä¹ˆ**ç©ºèŠ‚ç‚¹å°±åº”è¯¥æ˜¯æœ‰è¦†ç›–çŠ¶æ€**

- å¦‚æœç©ºèŠ‚ç‚¹ä¸ºæ— è¦†ç›–çŠ¶æ€ï¼Œé‚£ä¹ˆå¶å­èŠ‚ç‚¹éœ€è¦æ”¾ç½®æ‘„åƒå¤´
- å¦‚æœç©ºèŠ‚ç‚¹ä¸ºæœ‰æ‘„åƒå¤´çŠ¶æ€ï¼Œé‚£ä¹ˆå¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±æ²¡å¿…è¦æ”¾ç½®æ‘„åƒå¤´

- é€’å½’çš„ç»ˆæ­¢æ¡ä»¶

  ```js
  // ç©ºèŠ‚ç‚¹ï¼Œæœ‰è¦†ç›–
  if (!cur) return 1
  ```

- å•å±‚å¤„ç†é€»è¾‘

  - æƒ…å†µ 1ï¼šå·¦å³èŠ‚ç‚¹éƒ½æœ‰è¦†ç›–

    å·¦å³å­©å­éƒ½æœ‰è¦†ç›–ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¸­é—´èŠ‚ç‚¹å°±åº”è¯¥æ˜¯æ— è¦†ç›–çŠ¶æ€

    ```js
    if (left === 1 && right === 1) return 0
    ```

  - å·¦å³èŠ‚ç‚¹è‡³å°‘ä¸€ä¸ªæ— è¦†ç›–çŠ¶æ€

    ä¸­é—´èŠ‚ç‚¹å¿…é¡»å®‰è£…æ‘„åƒå¤´

    ```js
    if (left === 0 || right === 0) {
      result++
      return 2
    }
    ```

  - å·¦å³èŠ‚ç‚¹è‡³å°‘ä¸€ä¸ªæœ‰æ‘„åƒå¤´

    æ­¤æ—¶ä¸­é—´èŠ‚ç‚¹åº”è¯¥æ˜¯æœ‰è¦†ç›–çŠ¶æ€

    ```js
    if (left === 2 || right === 2) return 1
    ```

  - å¤´èŠ‚ç‚¹æ— è¦†ç›–çŠ¶æ€

    é€’å½’ç»“æŸåï¼Œéœ€è¦åˆ¤æ–­æ ¹èŠ‚ç‚¹è¦†ç›–çŠ¶æ€ï¼Œå¦‚æœæ— è¦†ç›–ï¼Œåˆ™ result++

    ```js
    if (root === 0) result++
    ```

```js
var minCameraCover = function (root) {
  let result = 0
  const traverse = (cur) => {
    // ç©ºèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹æœ‰è¦†ç›–
    if (cur === null) return 1

    let left = traverse(cur.left)
    let right = traverse(cur.right)
    // å·¦å³èŠ‚ç‚¹éƒ½è¢«è¦†ç›–
    if (left === 1 && right === 1) return 0
    // è‡³å°‘ä¸€ä¸ªæ— è¦†ç›–
    if (left === 0 || right === 0) {
      result++
      return 2
    }
    // è‡³å°‘ä¸€ä¸ªæœ‰æ‘„åƒå¤´
    if (left === 2 || right === 2) return 1
  }

  // æ ¹èŠ‚ç‚¹æ— è¦†ç›–çŠ¶æ€
  if (traverse(root) === 0) {
    result++
  }

  return result
}
```
