import{f as n,g as s,J as a}from"./common-03e46d7f.js";const t='{"title":"使用react-grid-layout心得","frontmatter":{"date":"2022-08-10","title":"使用react-grid-layout心得","tags":["react"],"describe":"记录使用拖拽组件react-grid-layout遇到的问题"},"headers":[{"level":2,"title":"前言","slug":"前言"},{"level":3,"title":"react-grid-layout简介","slug":"react-grid-layout简介"}],"relativePath":"docs/react/react-grid-layout.md","lastUpdated":1743591022149.7983}';var p={};const o=[a('<h2 id="前言"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>由于业务需要，最近使用react-grid-layout来完成一个基于拖拉拽生成的弹窗，所以记录一下自己使用过的API以及遇到的问题。</p><h3 id="react-grid-layout简介"><a class="header-anchor" href="#react-grid-layout简介" aria-hidden="true">#</a> react-grid-layout简介</h3><p>介绍：用于 React 的具有响应断点的可拖动和可调整大小的网格布局。<a href="https://github.com/react-grid-layout/react-grid-layout" target="_blank" rel="noopener noreferrer">github地址</a></p><h5 id="使用"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h5><ol><li>安装npm包</li></ol><div class="language-bash"><pre><code><span class="token function">npm</span> <span class="token function">install</span> react-grid-layout -S\n</code></pre></div><ol start="2"><li>引入css</li></ol><p>在index.tsx或者在引用react-grid-layout的地方引入需要的css样式</p><div class="language-js"><pre><code>\n <span class="token keyword">import</span> <span class="token string">&#39;react-grid-layout/css/styles.css&#39;</span><span class="token punctuation">;</span>\n</code></pre></div><ol start="3"><li>使用</li></ol><div class="language-tsx"><pre><code><span class="token keyword">import</span> GridLayout <span class="token keyword">from</span> <span class="token string">&quot;react-grid-layout&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">class</span> <span class="token class-name">MyFirstGrid</span> <span class="token keyword">extends</span> <span class="token class-name">React</span><span class="token punctuation">.</span>Component <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// layout is an array of objects, see the demo for more complete usage</span>\n    <span class="token keyword">const</span> layout <span class="token operator">=</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span> i<span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> w<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> h<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span> i<span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> w<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> h<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> minW<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> maxW<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span> i<span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> w<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> h<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GridLayout</span></span>\n        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span>\n        <span class="token attr-name">layout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>layout<span class="token punctuation">}</span></span>\n        <span class="token attr-name">cols</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">rowHeight</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1200</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">&gt;</span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">a</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">b</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">c</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">GridLayout</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h5 id="grid-layout-props"><a class="header-anchor" href="#grid-layout-props" aria-hidden="true">#</a> Grid Layout Props</h5><p><a href="https://github.com/react-grid-layout/react-grid-layout#grid-layout-props" target="_blank" rel="noopener noreferrer">官网地址</a></p><p>下面是个demo</p><div class="language-tsx"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token constant">RGL</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> WidthProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-grid-layout&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">&#39;./index.css&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> ReactGridLayout <span class="token operator">=</span> <span class="token function">WidthProvider</span><span class="token punctuation">(</span><span class="token constant">RGL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token punctuation">{</span>\n  width<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>\n  height<span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> <span class="token class-name">LayoutType</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  i<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  w<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  h<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  minW<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  maxW<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  minH<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  maxH<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">static</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n  isDraggable<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// 是否可移动</span>\n  isResizable<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// 是否可改变大小</span>\n  resizeHandles<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token string">&quot;s&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;w&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;e&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;sw&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;nw&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;se&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;ne&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>\n  isBounded<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> layout<span class="token operator">:</span> LayoutType<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    w<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>\n    h<span class="token operator">:</span> <span class="token number">51</span><span class="token punctuation">,</span>\n    x<span class="token operator">:</span> <span class="token number">145</span><span class="token punctuation">,</span>\n    y<span class="token operator">:</span> <span class="token number">419</span><span class="token punctuation">,</span>\n    i<span class="token operator">:</span> <span class="token string">&quot;1.不可拖拽&quot;</span><span class="token punctuation">,</span>\n    minW<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>\n    minH<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n    isDraggable<span class="token operator">:</span> <span class="token boolean">false</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    w<span class="token operator">:</span> <span class="token number">240</span><span class="token punctuation">,</span>\n    h<span class="token operator">:</span> <span class="token number">53</span><span class="token punctuation">,</span>\n    x<span class="token operator">:</span> <span class="token number">213</span><span class="token punctuation">,</span>\n    y<span class="token operator">:</span> <span class="token number">318</span><span class="token punctuation">,</span>\n    i<span class="token operator">:</span> <span class="token string">&quot;2.不能改变大小&quot;</span><span class="token punctuation">,</span>\n    minW<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>\n    minH<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n    isResizable<span class="token operator">:</span> <span class="token boolean">false</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    w<span class="token operator">:</span> <span class="token number">242</span><span class="token punctuation">,</span>\n    h<span class="token operator">:</span> <span class="token number">57</span><span class="token punctuation">,</span>\n    x<span class="token operator">:</span> <span class="token number">212</span><span class="token punctuation">,</span>\n    y<span class="token operator">:</span> <span class="token number">246</span><span class="token punctuation">,</span>\n    i<span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>\n    minW<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>\n    minH<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    w<span class="token operator">:</span> <span class="token number">432</span><span class="token punctuation">,</span>\n    h<span class="token operator">:</span> <span class="token number">68</span><span class="token punctuation">,</span>\n    x<span class="token operator">:</span> <span class="token number">116</span><span class="token punctuation">,</span>\n    y<span class="token operator">:</span> <span class="token number">118</span><span class="token punctuation">,</span>\n    i<span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>\n    minW<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>\n    minH<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    w<span class="token operator">:</span> <span class="token number">652</span><span class="token punctuation">,</span>\n    h<span class="token operator">:</span> <span class="token number">83</span><span class="token punctuation">,</span>\n    x<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n    y<span class="token operator">:</span> <span class="token number">31</span><span class="token punctuation">,</span>\n    i<span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>\n    minW<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>\n    minH<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token function-variable function">GridLayout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token function-variable function">onLayoutChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>layout<span class="token operator">:</span> LayoutType<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token function">setShowVerticalLine</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setShowHorizontal</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>layout<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// 展示横纵轴</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>showVerticalLine<span class="token punctuation">,</span> setShowVerticalLine<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>showHorizontal<span class="token punctuation">,</span> setShowHorizontal<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token function-variable function">onLayoutDrag</span> <span class="token operator">=</span> <span class="token punctuation">(</span>\n    layout<span class="token operator">:</span> LayoutType<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    oldItem<span class="token operator">:</span> LayoutType<span class="token punctuation">,</span>\n    newItem<span class="token operator">:</span> LayoutType\n  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 通过移动过程设置中轴线</span>\n    <span class="token keyword">const</span> halfWidth <span class="token operator">=</span> root<span class="token operator">?.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> halfHeight <span class="token operator">=</span> root<span class="token operator">?.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h <span class="token punctuation">}</span> <span class="token operator">=</span> newItem<span class="token punctuation">;</span>\n    <span class="token function">setShowVerticalLine</span><span class="token punctuation">(</span>\n      x <span class="token operator">+</span> w <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">&gt;=</span> halfWidth <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">+</span> w <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">&lt;=</span> halfWidth <span class="token operator">+</span> <span class="token number">2</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setShowHorizontal</span><span class="token punctuation">(</span>\n      y <span class="token operator">+</span> h <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">&gt;=</span> halfHeight <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">+</span> h <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">&lt;=</span> halfHeight <span class="token operator">+</span> <span class="token number">2</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> root<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token operator">:</span> root<span class="token punctuation">.</span>height <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-container<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">\n      </span><span class="token punctuation">{</span><span class="token comment">/* 中轴线 */</span><span class="token punctuation">}</span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal-line<span class="token punctuation">&quot;</span></span>\n        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> opacity<span class="token operator">:</span> showHorizontal <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical-line<span class="token punctuation">&quot;</span></span>\n        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> opacity<span class="token operator">:</span> showVerticalLine <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ReactGridLayout</span></span>\n        <span class="token attr-name">layout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>layout<span class="token punctuation">}</span></span>\n        <span class="token comment">// 需要取消各个边的间距 贴边处理</span>\n        <span class="token attr-name">margin</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">containerPadding</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">onLayoutChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayoutChange<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onDragStop</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayoutChange<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onDrag</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayoutDrag<span class="token punctuation">}</span></span>\n        <span class="token comment">// layout中的元素可以一个放在另一个上</span>\n        <span class="token attr-name">allowOverlap</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span>\n        <span class="token comment">// 元素可移动的点 s下 e右 se右下</span>\n        <span class="token attr-name">resizeHandles</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;se&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token comment">// 使用容器宽度作为cols</span>\n        <span class="token attr-name">cols</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>root<span class="token punctuation">.</span>width<span class="token punctuation">}</span></span>\n        <span class="token attr-name">rowHeight</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">&gt;</span></span><span class="token plain-text">\n        </span><span class="token punctuation">{</span>layout<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n          <span class="token keyword">const</span> <span class="token punctuation">{</span> i<span class="token punctuation">,</span> zIndex <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>\n          <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n              <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n                <span class="token comment">// borderColor: currentId === i ? &quot;#2680eb&quot; : &quot;&quot;,</span>\n                zIndex<span class="token punctuation">,</span>\n              <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n              <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span>\n            <span class="token punctuation">&gt;</span></span><span class="token plain-text">\n              </span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ReactGridLayout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> GridLayout<span class="token punctuation">;</span>\n\n</code></pre></div><div class="language-css"><pre><code><span class="token selector">.layout-container</span> <span class="token punctuation">{</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #d9d9d9<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.react-grid-layout</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 100% <span class="token important">!important</span><span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100% !<span class="token punctuation">;</span>\n  <span class="token property">transition</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.react-grid-item</span> <span class="token punctuation">{</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 1px dashed #d9d9d9<span class="token punctuation">;</span>\n  <span class="token property">cursor</span><span class="token punctuation">:</span> move<span class="token punctuation">;</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.react-grid-item.cssTransforms</span> <span class="token punctuation">{</span>\n  <span class="token property">transition</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.resizing,\n.react-grid-item:hover</span> <span class="token punctuation">{</span>\n  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>38<span class="token punctuation">,</span> 128<span class="token punctuation">,</span> 235<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.react-grid-item &gt; .react-resizable-handle-s</span> <span class="token punctuation">{</span>\n  <span class="token property">cursor</span><span class="token punctuation">:</span> row-resize<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">margin-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.react-grid-item &gt; .react-resizable-handle-e</span> <span class="token punctuation">{</span>\n  <span class="token property">cursor</span><span class="token punctuation">:</span> col-resize<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">margin-top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.react-grid-item &gt; .react-resizable-handle</span> <span class="token punctuation">{</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 998<span class="token punctuation">;</span>\n  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.react-grid-item &gt; .react-resizable-handle-se</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 999<span class="token punctuation">;</span>\n  <span class="token property">cursor</span><span class="token punctuation">:</span> se-resize<span class="token punctuation">;</span>\n  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.react-grid-placeholder</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.horizontal-line</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #ff6600<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 999999999<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.vertical-line</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 0.8px<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #ff6600<span class="token punctuation">;</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 999999999<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>效果如下 <img src="https://im.ezgif.com/tmp/ezgif-1-b08a6a7328.gif" alt="gif"></p>',18)];p.render=function(a,t,p,e,c,u){return n(),s("div",null,o)};export{t as __pageData,p as default};
