import{f as n,g as s,J as a}from"./common-03e46d7f.js";const t='{"title":"å¯Œæ–‡æœ¬ç¼–è¾‘å™¨Tiptapç³»åˆ—æ•™ç¨‹â€”â€”Tiptapå¸¸ç”¨API & å‘½ä»¤è¯¦è§£","frontmatter":{"date":"2023-07-02","title":"å¯Œæ–‡æœ¬ç¼–è¾‘å™¨Tiptapç³»åˆ—æ•™ç¨‹â€”â€”Tiptapå¸¸ç”¨API & å‘½ä»¤è¯¦è§£","tags":["tiptap"],"describe":"Tiptapæä¾›äº†å¤§é‡çš„æ–¹æ³•ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼ŒåŒ…æ‹¬å¯¹æ–‡æ¡£ã€èŠ‚ç‚¹ã€æ‰©å±•ä»¥åŠé€‰åŒºç­‰çš„æ“ä½œï¼Œæ¥ä¸°å¯Œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„å¯æ“ä½œæ€§ã€‚"},"headers":[{"level":2,"title":"Tiptap å®ä¾‹","slug":"tiptap-å®ä¾‹"},{"level":3,"title":"æ–¹æ³•","slug":"æ–¹æ³•"},{"level":3,"title":"can()","slug":"can"},{"level":3,"title":"chain()","slug":"chain"},{"level":3,"title":"destroy()","slug":"destroy"},{"level":3,"title":"getHTML()/getJSON()/getText()","slug":"gethtml-getjson-gettext"},{"level":3,"title":"getAttributes()","slug":"getattributes"},{"level":3,"title":"isActive()","slug":"isactive"},{"level":3,"title":"registerPlugin()/unregisterPlugin()","slug":"registerplugin-unregisterplugin"},{"level":3,"title":"setOptions()","slug":"setoptions"},{"level":3,"title":"setEditable()","slug":"seteditable"},{"level":3,"title":"å±æ€§","slug":"å±æ€§"},{"level":3,"title":"isEditable","slug":"iseditable"},{"level":3,"title":"isEmpty","slug":"isempty"},{"level":2,"title":"Commands å‘½ä»¤","slug":"commands-å‘½ä»¤"},{"level":3,"title":"æ‰§è¡Œå‘½ä»¤","slug":"æ‰§è¡Œå‘½ä»¤"},{"level":3,"title":"Try commands","slug":"try-commands"},{"level":3,"title":"å‘½ä»¤åˆé›†","slug":"å‘½ä»¤åˆé›†"},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“"}],"relativePath":"docs/tiptap/tiptap-tutorial4.md","lastUpdated":1688377196563.123}';var p={};const o=[a('<p>æ¥ä¸Šç¯‡<a href="https://juejin.cn/post/7243413934765621307" target="_blank" rel="noopener noreferrer">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ Tiptap ç³»åˆ—æ•™ç¨‹â€”â€”Tiptap æ¨¡å—&amp;æ¦‚å¿µè¯¦è§£</a>ï¼Œæœ¬æ–‡æˆ‘ä»¬ä¸»è¦è¯´ä¸€ä¸‹ Tiptap çš„å¸¸ç”¨æ–¹æ³• &amp; å‘½ä»¤ã€‚</p><h2 id="tiptap-å®ä¾‹"><a class="header-anchor" href="#tiptap-å®ä¾‹" aria-hidden="true">#</a> Tiptap å®ä¾‹</h2><p>é¦–å…ˆå›å¿†ä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰åˆå§‹åŒ–ç¼–è¾‘å™¨éƒ¨åˆ†ï¼š</p><div class="language-js"><pre><code><span class="token keyword">const</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Editor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div><p>é€šè¿‡<code>new Editor</code>æˆ–<code>useEditor</code>åˆå§‹åŒ–å¾—åˆ°çš„<code>editor</code>å°±æ˜¯ä¸€ä¸ªç¼–è¾‘å™¨å®ä¾‹ï¼Œå®ä¾‹ä¸Šå­˜åœ¨å¾ˆå¤šå®ç”¨æ–¹æ³•å’Œå±æ€§ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸€ä¸€åˆ—ä¸¾ä¸‹ã€‚</p><h3 id="æ–¹æ³•"><a class="header-anchor" href="#æ–¹æ³•" aria-hidden="true">#</a> æ–¹æ³•</h3><p>ç¼–è¾‘å™¨å®ä¾‹æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œå¯ä»¥è¿”å›ä»»ä½•å†…å®¹ï¼Œå¢åŠ  Tiptap çš„å¯æ“ä½œæ€§ã€‚</p><h3 id="can"><a class="header-anchor" href="#can" aria-hidden="true">#</a> can()</h3><p>æ£€æŸ¥å‘½ä»¤æˆ–å‘½ä»¤é“¾æ˜¯å¦å¯ä»¥æ‰§è¡Œï¼Œä¸ä¼šå®é™…æ‰§è¡Œã€‚è¿”å›å€¼ä¸º<code>false/true</code>ã€‚</p><p>æ¯”å¦‚ï¼šä¹‹å‰åˆ©ç”¨<code>!editor.can().chain().focus().toggleBold().run()</code>æ¥å¯¹<code>åŠ ç²—bold</code>æŒ‰é’®è¿›è¡Œå¯ç”¨æˆ–ç¦ç”¨ã€‚</p><div class="language-js"><pre><code><span class="token operator">&lt;</span>button\n  @click<span class="token operator">=</span><span class="token string">&quot;editor.chain().focus().toggleBold().run()&quot;</span>\n  <span class="token operator">:</span>disabled<span class="token operator">=</span><span class="token string">&quot;!editor.can().chain().focus().toggleBold().run()&quot;</span>\n  <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ &#39;is-active&#39;: editor.isActive(&#39;bold&#39;) }&quot;</span>\n<span class="token operator">&gt;</span>\n  bold\n<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>\n</code></pre></div><h3 id="chain"><a class="header-anchor" href="#chain" aria-hidden="true">#</a> chain()</h3><p>ä¹‹å‰è¯´è¿‡ï¼Œé€šè¿‡<code>chain()</code>å¯ä»¥åˆ›å»ºä¸€æ¡é“¾æ¥æ‰§è¡Œå¤šä¸ªæ–¹æ³•ï¼Œæœ€åéœ€è¦æ·»åŠ <code>.run()</code>æ¥å®é™…æ‰§è¡Œæ‰€æœ‰å‘½ä»¤ã€‚</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleBold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="destroy"><a class="header-anchor" href="#destroy" aria-hidden="true">#</a> destroy()</h3><p>é”€æ¯ç¼–è¾‘å™¨å®ä¾‹å¹¶æ³¨é”€æ‰€æœ‰äº‹ä»¶ï¼Œåœ¨ç»„ä»¶é”€æ¯æ—¶è°ƒç”¨ã€‚</p><div class="language-js"><pre><code><span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> editor<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="gethtml-getjson-gettext"><a class="header-anchor" href="#gethtml-getjson-gettext" aria-hidden="true">#</a> getHTML()/getJSON()/getText()</h3><p>è·å–ç¼–è¾‘å™¨ HTML/JSON/çº¯æ–‡æœ¬ Text å†…å®¹ã€‚</p><div class="language-js"><pre><code><span class="token function">onUpdate</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> editor <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> json <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token keyword">const</span> html <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token comment">// é»˜è®¤ä¸¤ä¸ªèŠ‚ç‚¹ nodes ä¹‹é—´ä¸¤ä¸ªæ¢è¡Œç¬¦</span>\n  <span class="token keyword">const</span> text <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token comment">// å¯ä¼ å…¥å‚æ•° blockSeparator æ§åˆ¶èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥</span>\n  <span class="token keyword">const</span> lineText <span class="token operator">=</span> editor<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">blockSeparator</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lineText<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p><img src="/blog/_assets/getJSON-getHTML-getText.77ea5f74.png" alt="getJSON-getHTML-getText.png"></p><h3 id="getattributes"><a class="header-anchor" href="#getattributes" aria-hidden="true">#</a> getAttributes()</h3><p>è·å–å½“å‰é€‰ä¸­çš„èŠ‚ç‚¹æˆ–æ ‡è®°çš„å±æ€§ï¼Œå¦‚è·å–å½“å‰é“¾æ¥çš„hrefå±æ€§ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span><span class="token function">getAttributes</span><span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>href\n</code></pre></div><h3 id="isactive"><a class="header-anchor" href="#isactive" aria-hidden="true">#</a> isActive()</h3><p>è¿”å›å½“å‰é€‰å®šçš„èŠ‚ç‚¹æˆ–æ ‡è®°æ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œå¦‚æˆ‘ä»¬ä¹‹å‰ç”¨äºåˆ¤æ–­<code>bold</code>æ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€æ—¶ï¼Œä¸ºå…¶æ·»åŠ <code>is-active</code>ç±»ï¼š</p><div class="language-js"><pre><code><span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ &#39;is-active&#39;: editor.isActive(&#39;bold&#39;) }&quot;</span>\n</code></pre></div><h3 id="registerplugin-unregisterplugin"><a class="header-anchor" href="#registerplugin-unregisterplugin" aria-hidden="true">#</a> registerPlugin()/unregisterPlugin()</h3><p>æ³¨å†Œ/æ³¨é”€ä¸€ä¸ª ProseMirror æ’ä»¶ã€‚</p><p>é¡¹ç›®ä¸­æš‚æ—¶è¿˜æ²¡æœ‰ç”¨åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹ vue3 ä¸­å¯¹<a href="https://github.com/ueberdosis/tiptap/blob/HEAD/packages/vue-3/src/BubbleMenu.ts#L53" target="_blank" rel="noopener noreferrer">BubbleMenu</a>æ³¨å†Œæ’ä»¶çš„ä»£ç ã€‚</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BubbleMenuPlugin<span class="token punctuation">,</span> BubbleMenuPluginProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@tiptap/extension-bubble-menu&#39;</span>\n<span class="token comment">// ...</span>\n<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span>\n    updateDelay<span class="token punctuation">,</span>\n    editor<span class="token punctuation">,</span>\n    pluginKey<span class="token punctuation">,</span>\n    shouldShow<span class="token punctuation">,</span>\n    tippyOptions<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span> <span class="token operator">=</span> props\n\n  editor<span class="token punctuation">.</span><span class="token function">registerPlugin</span><span class="token punctuation">(</span><span class="token function">BubbleMenuPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    updateDelay<span class="token punctuation">,</span>\n    editor<span class="token punctuation">,</span>\n    <span class="token literal-property property">element</span><span class="token operator">:</span> root<span class="token punctuation">.</span>value <span class="token keyword">as</span> HTMLElement<span class="token punctuation">,</span>\n    pluginKey<span class="token punctuation">,</span>\n    shouldShow<span class="token punctuation">,</span>\n    tippyOptions<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> pluginKey<span class="token punctuation">,</span> editor <span class="token punctuation">}</span> <span class="token operator">=</span> props\n\n  editor<span class="token punctuation">.</span><span class="token function">unregisterPlugin</span><span class="token punctuation">(</span>pluginKey<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token comment">// ...</span>\n</code></pre></div><p>åœ¨<code>onMounted</code>ä¸­æ³¨å†Œæ’ä»¶<code>BubbleMenuPlugin</code>ï¼Œå¹¶åœ¨<code>onBeforeUnmount</code>é€šè¿‡<code>pluginKey</code>æ³¨é”€è¿™ä¸ªæ’ä»¶ã€‚</p><h3 id="setoptions"><a class="header-anchor" href="#setoptions" aria-hidden="true">#</a> setOptions()</h3><p>æ‰‹åŠ¨æ›´æ–°ç¼–è¾‘å™¨çš„é…ç½®ã€‚</p><p>æˆ‘ä»¬é€šè¿‡<code>new Editor()</code>åˆå§‹åŒ–æ—¶å¯¹ç¼–è¾‘å™¨æ·»åŠ é…ç½®ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>setOptions()</code>å»åŠ¨æ€çš„ä¿®æ”¹é…ç½®ï¼Œå‚æ•°åŒåˆå§‹åŒ–ç›¸åŒã€‚</p><div class="language-js"><pre><code><span class="token comment">// æ·»åŠ  class æ ·å¼åˆ°ç¼–è¾‘å™¨å®ä¾‹</span>\neditor<span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">editorProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;my-custom-class&#39;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="seteditable"><a class="header-anchor" href="#seteditable" aria-hidden="true">#</a> setEditable()</h3><p>æ›´æ–°ç¼–è¾‘å™¨çš„å¯ç¼–è¾‘çŠ¶æ€ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°<code>editable</code>å’Œ<code>emitUpdate</code>ã€‚</p><div class="language-js"><pre><code><span class="token comment">// è®¾ç½®ç¼–è¾‘å™¨åªè¯»</span>\neditor<span class="token punctuation">.</span><span class="token function">setEditable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="å±æ€§"><a class="header-anchor" href="#å±æ€§" aria-hidden="true">#</a> å±æ€§</h3><p>ç›®å‰æœ‰ isEditableï¼ˆæ˜¯å¦æ˜¯ç¼–è¾‘çŠ¶æ€ï¼‰ å’Œ isEmptyï¼ˆå†…å®¹æ˜¯å¦ä¸ºç©ºï¼‰ ä¸¤ä¸ªå±æ€§ã€‚</p><h3 id="iseditable"><a class="header-anchor" href="#iseditable" aria-hidden="true">#</a> isEditable</h3><p>è¿”å›ç¼–è¾‘å™¨æ˜¯å¯ç¼–è¾‘çš„è¿˜æ˜¯åªè¯»çš„ã€‚</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>isEditable\n</code></pre></div><h3 id="isempty"><a class="header-anchor" href="#isempty" aria-hidden="true">#</a> isEmpty</h3><p>æ£€æŸ¥æ˜¯å¦æœ‰å†…å®¹ã€‚</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>isEmpty\n</code></pre></div><h2 id="commands-å‘½ä»¤"><a class="header-anchor" href="#commands-å‘½ä»¤" aria-hidden="true">#</a> Commands å‘½ä»¤</h2><p>Commands å‘½ä»¤ç”¨äºæ›´æ”¹ç¼–è¾‘å™¨çš„çŠ¶æ€ï¼ˆå†…å®¹ã€é€‰åŒºç­‰ï¼‰ï¼Œä»…è¿”å› <code>true/false</code>ã€‚Tiptap ç¼–è¾‘å™¨æä¾›äº†å¤§é‡ Commands å‘½ä»¤ï¼Œå¯ä»¥æ·»åŠ æˆ–æ›´æ”¹å†…å®¹ã€æ›´æ”¹é€‰æ‹©ç­‰ã€‚åªæœ‰æŒæ¡è¿™äº›å‘½ä»¤ï¼Œæ‰èƒ½æ›´å¥½çš„ä½¿ç”¨ Tiptap ç¼–è¾‘å™¨ã€‚</p><p><strong>åˆ‡è®°ï¼šä¸è¦æ··æ·†å®ä¾‹æ–¹æ³•å’Œ commands å‘½ä»¤</strong>ï¼Œå®ä¾‹æ–¹æ³•å¯è¿”å›ä»»ä½•å†…å®¹ï¼Œå‘½ä»¤ä»…è¿”å› <code>true/false</code>ã€‚</p><h3 id="æ‰§è¡Œå‘½ä»¤"><a class="header-anchor" href="#æ‰§è¡Œå‘½ä»¤" aria-hidden="true">#</a> æ‰§è¡Œå‘½ä»¤</h3><p>Tiptap ä¸­æ‰€æœ‰å‘½ä»¤éƒ½å¯ä»¥é€šè¿‡ç¼–è¾‘å™¨å®ä¾‹<code>editor</code>è°ƒç”¨ï¼Œæ¯”å¦‚åœ¨ç”¨æˆ·å•å‡»æŒ‰é’®æ—¶å°†æ–‡æœ¬è®¾ç½®ä¸ºç²—ä½“ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">setBold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><p>ä¸Šé¢å‘½ä»¤å¯ä»¥ä½¿æ‰€é€‰å†…å®¹å˜ä¸ºç²—ä½“ï¼Œä½†åœ¨ä½¿ç”¨æ­¤ç±»å‘½ä»¤æ—¶æ˜¯ç‚¹å‡»å¤–éƒ¨æŒ‰é’®ï¼Œä¼šå¯¼è‡´ç¼–è¾‘å™¨å¤±ç„¦ï¼Œæ‰€ä»¥é€šå¸¸ä¼šé€šè¿‡é“¾å¼è°ƒç”¨ä½¿ç¼–è¾‘å™¨é‡æ–°è·å–ç„¦ç‚¹ã€‚</p><h4 id="chain-é“¾å¼è°ƒç”¨"><a class="header-anchor" href="#chain-é“¾å¼è°ƒç”¨" aria-hidden="true">#</a> chain é“¾å¼è°ƒç”¨</h4><p>å¤§å¤šæ•°çš„å‘½ä»¤å¯ä»¥ç»„åˆä¸ºä¸€ä¸ªè°ƒç”¨ï¼Œè¿™æ¯”å•ç‹¬çš„å‡½æ•°è°ƒç”¨è¦ç®€çŸ­ä¼˜é›…ä¸€äº›ï¼Œé“¾å‘½ä»¤ä»¥<code>.chain()</code>å¼€å¤´<code>.run()</code>ç»“å°¾ï¼Œå°†å¤šä¸ªå‘½ä»¤åˆå¹¶æˆä¸€ä¸ªäº‹åŠ¡ï¼Œå†…å®¹åªæ›´æ–°ä¸€æ¬¡ï¼Œå¹¶ä¸”äº‹åŠ¡ä¹Ÿåªè§¦å‘ä¸€æ¬¡ï¼Œæ¯”å¦‚ä¿®æ”¹ä¸Šé¢ä½¿æ–‡æœ¬åŠ ç²—çš„ä¾‹å­ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleBold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><p>ä¸Šé¢æˆ‘ä»¬è¯´è¿‡å½“ç‚¹å‡»ç¼–è¾‘å™¨å¤–éƒ¨åŒºåŸŸè°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šå¯¼è‡´ç¼–è¾‘å™¨å¤±ç„¦ï¼Œæ‰€ä»¥éœ€è¦é“¾å¼è°ƒç”¨<code>focus()</code>ä½¿ç¼–è¾‘å™¨é‡æ–°è·å–ç„¦ç‚¹ï¼Œå†ç»§ç»­æ‰§è¡Œå…¶ä»–æ–¹æ³•ã€‚</p><h4 id="æ£€æµ‹å‘½ä»¤æ˜¯å¦å¯æ‰§è¡Œ"><a class="header-anchor" href="#æ£€æµ‹å‘½ä»¤æ˜¯å¦å¯æ‰§è¡Œ" aria-hidden="true">#</a> æ£€æµ‹å‘½ä»¤æ˜¯å¦å¯æ‰§è¡Œ</h4><p>é€šè¿‡<code>editor.can().xxx()</code>å¯ä»¥åˆ¤æ–­å‘½ä»¤æ˜¯å¦å¯ä»¥æ‰§è¡Œï¼Œè¿”å›<code>true/false</code>ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨è¡¨æ ¼ä¸­éœ€è¦åˆ¤æ–­å½“å‰é€‰ä¸­å•å…ƒæ ¼æ˜¯å¦å¯ä»¥åˆå¹¶/æ‹†åˆ†ï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ‰€é€‰çš„å•å…ƒæ ¼å°±å¯ä»¥è¿›è¡Œåˆå¹¶/æ‹†åˆ†æ“ä½œï¼š</p><div class="language-js"><pre><code><span class="token comment">// æ˜¯å¦å¯åˆå¹¶</span>\neditor<span class="token punctuation">.</span><span class="token function">can</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mergeCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token comment">// æ˜¯å¦å¯æ‹†åˆ†</span>\neditor<span class="token punctuation">.</span><span class="token function">can</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splitCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="try-commands"><a class="header-anchor" href="#try-commands" aria-hidden="true">#</a> Try commands</h3><p><code>.first()</code>ç”¨äºæ‰§è¡Œå‘½ä»¤åˆ—è¡¨ï¼Œé¦–å…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‘½ä»¤è¿”å›<code>true</code>ï¼Œå³æ‰§è¡ŒæˆåŠŸæ—¶å°±ä¼šåœæ­¢ï¼›å¦‚æœç¬¬ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå°±ä¼šæ¥ç€æ‰§è¡Œç¬¬äºŒä¸ªå‘½ä»¤ï¼Œå³ä¸€ä¸ªæ¥ä¸€ä¸ªæ‰§è¡Œï¼Œé‡åˆ°æˆåŠŸæ‰§è¡Œçš„å‘½ä»¤åˆ™åœæ­¢æ‰§è¡Œã€‚</p><p>å¦‚ï¼šé€€æ ¼é”®é¦–å…ˆå°è¯•æ’¤æ¶ˆè¾“å…¥è§„åˆ™ã€‚å¦‚æœæˆåŠŸï¼Œå°±åˆ°æ­¤ä¸ºæ­¢ã€‚å¦‚æœæ²¡æœ‰åº”ç”¨è¾“å…¥è§„åˆ™ï¼Œå› æ­¤æ— æ³•æ¢å¤ï¼Œå®ƒå°†è¿è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤å¹¶åˆ é™¤é€‰æ‹©ã€‚</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commands <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> commands<span class="token punctuation">.</span><span class="token function">undoInputRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> commands<span class="token punctuation">.</span><span class="token function">deleteSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token comment">// â€¦</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span>\n</code></pre></div><p>ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤ä¸­åº”ç”¨ <code>commands.first()</code> æ–¹æ³•</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>\n  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commands <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> commands<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> commands<span class="token punctuation">.</span><span class="token function">undoInputRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> commands<span class="token punctuation">.</span><span class="token function">deleteSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token comment">// â€¦</span>\n    <span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n</code></pre></div><h3 id="å‘½ä»¤åˆé›†"><a class="header-anchor" href="#å‘½ä»¤åˆé›†" aria-hidden="true">#</a> å‘½ä»¤åˆé›†</h3><p>Tiptap æœ‰å¾ˆå¯ä½¿ç”¨å¤šå‘½ä»¤ï¼ŒåŒ…æ‹¬å¯¹æ–‡æ¡£ã€èŠ‚ç‚¹/æ ‡è®°å’Œé€‰ä¸­åŒºåŸŸçš„å„ç§æ“ä½œï¼Œæ‰€ä»¥è¦æƒ³ç©è½¬ Tiptapï¼Œå¿…é¡»ç†Ÿæ‚‰è¿™äº›å‘½ä»¤ï¼ŒçŸ¥é“åœ¨ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆå‘½ä»¤ã€‚</p><h4 id="content-æ–‡æ¡£å‘½ä»¤"><a class="header-anchor" href="#content-æ–‡æ¡£å‘½ä»¤" aria-hidden="true">#</a> content æ–‡æ¡£å‘½ä»¤</h4><ul><li><p>clearContent</p><p>æ¸…ç©ºæ–‡æ¡£ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</p></li><li><p>insertContent/insertContentAt</p><p>åœ¨å½“å‰/æŒ‡å®šä½ç½®æ’å…¥çº¯æ–‡æœ¬ã€HTML æˆ– JSON èŠ‚ç‚¹ã€‚è¿™ä¸¤ä¸ªå‘½ä»¤ä½¿ç”¨è¾ƒå¤šï¼Œå¦‚ä¸€äº›è‡ªå®šä¹‰èŠ‚ç‚¹æ’å…¥å†…å®¹æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ï¼š</p><div class="language-js"><pre><code>commands<span class="token punctuation">.</span><span class="token function">insertContent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div><p>æˆ–è€…å¦‚æ’å…¥è¡¨æƒ…å†…å®¹æ—¶ï¼š</p><div class="language-js"><pre><code>props<span class="token punctuation">.</span>editor<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insertContent</span><span class="token punctuation">(</span>emoji<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div></li><li><p>setContent</p><p>è®¾ç½®æ–‡æ¡£å†…å®¹ï¼ˆç”¨æ–°æ–‡æ¡£æ›¿æ¢è¯¥æ–‡æ¡£ï¼‰ï¼Œä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ–‡æ¡£å†…å®¹ã€‚</p></li></ul><h4 id="èŠ‚ç‚¹ã€æ ‡è®°å‘½ä»¤"><a class="header-anchor" href="#èŠ‚ç‚¹ã€æ ‡è®°å‘½ä»¤" aria-hidden="true">#</a> èŠ‚ç‚¹ã€æ ‡è®°å‘½ä»¤</h4><ul><li><p>clearNodes</p><p>å°†èŠ‚ç‚¹è§„èŒƒåŒ–ä¸ºé»˜è®¤èŠ‚ç‚¹ï¼Œä¸€èˆ¬ç”¨äºæ¸…é™¤æ ·å¼ï¼Œå¦‚ï¼šæ©¡çš®æ“¦åŠŸèƒ½ã€‚</p></li><li><p>createParagraphNear</p><p>åœ¨é€‰ä¸­èŠ‚ç‚¹åé¢æ·»åŠ ç©ºæ®µè½ã€‚</p></li><li><p>deleteNode</p><p>åˆ é™¤é€‰ä¸­èŠ‚ç‚¹ï¼Œå¦‚ä¸€äº›è‡ªå®šä¹‰èŠ‚ç‚¹åˆ é™¤æ—¶ï¼š</p><div class="language-js"><pre><code><span class="token function-variable function">Backspace</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>editor\n    <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">deleteNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">insertContent</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;p&gt;&lt;/p&gt;&#39;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token keyword">return</span> <span class="token boolean">false</span>\n<span class="token punctuation">}</span>\n</code></pre></div></li><li><p>extendMarkRange</p><p>æ‰©å±•å½“å‰çš„é€‰æ‹©ä»¥åŒ…å«å½“å‰æ ‡è®°ï¼Œå¦‚å°†å½“å‰é€‰ä¸­åŒºåŸŸè®¾ç½®ä¸ºé“¾æ¥ï¼š</p><div class="language-js"><pre><code>props<span class="token punctuation">.</span>editor\n  <span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">extendMarkRange</span><span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">setLink</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">href</span><span class="token operator">:</span> link <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div></li><li><p>setMark</p><p>åœ¨å½“å‰é€‰æ‹©å¤„æ·»åŠ ä¸€ä¸ªæ–°æ ‡è®°ï¼Œä¸»è¦ç”¨äºå¯¹é€‰ä¸­æ–‡æœ¬æ·»åŠ å„ç§æ ‡è®°ï¼Œå¦‚å¯¹è®¾ç½®åŠ ç²—æˆ–å­—ä½“ç­‰ï¼š</p><div class="language-js"><pre><code><span class="token function-variable function">setFontSize</span><span class="token operator">:</span>\n  <span class="token punctuation">(</span><span class="token parameter">fontSize</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>\n  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> tr<span class="token punctuation">,</span> chain<span class="token punctuation">,</span> editor<span class="token punctuation">,</span> dispatch <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setMark</span><span class="token punctuation">(</span><span class="token string">&#39;textStyle&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> fontSize <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token function-variable function">unsetFontSize</span><span class="token operator">:</span>\n  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>\n  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> chain <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setMark</span><span class="token punctuation">(</span><span class="token string">&#39;textStyle&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n</code></pre></div></li><li><p>setNode</p><p>å°†å½“å‰èŠ‚ç‚¹æ›¿æ¢æˆæŒ‡å®šèŠ‚ç‚¹ï¼Œå¦‚å¯¹å½“å‰èŠ‚ç‚¹è¿›è¡Œæ ‡é¢˜å’Œæ­£æ–‡çš„åˆ‡æ¢ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token string">&#39;paragraph&#39;</span><span class="token punctuation">)</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token string">&#39;heading&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div></li><li><p>toggleMark</p><p>åœ¨å½“å‰é€‰æ‹©å¤„æ‰“å¼€å’Œå…³é—­ç‰¹å®šæ ‡è®°ï¼Œä¹Ÿå°±æ˜¯æ·»åŠ æˆ–å–æ¶ˆæ·»åŠ æ ‡è®°ï¼Œå¦‚ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">toggleMark</span><span class="token punctuation">(</span><span class="token string">&#39;bold&#39;</span><span class="token punctuation">)</span>\n</code></pre></div><p>ç‚¹å‡»ä¸€æ¬¡æ—¶é€‰ä¸­å†…å®¹åŠ ç²—ï¼Œå†æ¬¡ç‚¹å‡»é€‰ä¸­å†…å®¹å°†å–æ¶ˆç²—ä½“ã€‚</p></li><li><p>toggleNode</p><p>ç±»ä¼¼äº toggleMarkï¼Œæ‰€é€‰èŠ‚ç‚¹å°†åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸å¦ä¸€ä¸ªèŠ‚ç‚¹ä¹‹é—´åˆ‡æ¢ï¼Œå¦‚ï¼š</p><div class="language-js"><pre><code>props<span class="token punctuation">.</span>editor<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleNode</span><span class="token punctuation">(</span><span class="token string">&#39;paragraph&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;heading&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><p>ç‚¹å‡»ä¸€æ¬¡æ—¶å½“å‰èŠ‚ç‚¹è½¬ä¸ºæ ‡é¢˜ï¼Œå†æ¬¡ç‚¹å‡»æ ‡é¢˜åˆè½¬ä¸ºæ®µè½ã€‚</p></li><li><p>unsetAllMarks</p><p>å°†é€‰ä¸­å†…å®¹çš„æ‰€æœ‰ marks æ ‡è®°ç§»é™¤ã€‚</p></li><li><p>unsetMark</p><p>ä¸ setMark ä½œç”¨ç›¸åï¼Œç§»é™¤å½“å‰é€‰ä¸­å†…å®¹çš„æŒ‡å®šæ ‡è®°ã€‚</p></li><li><p>updateAttributes</p><p>æ›´æ–°èŠ‚ç‚¹ã€æ ‡è®°çš„å±æ€§ï¼Œåªéœ€ä¼ é€’éœ€è¦æ›´æ”¹çš„å±æ€§ï¼Œå¦‚é’ˆå¯¹å›¾ç‰‡çš„å®½åº¦è®¾ç½®ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">updateAttributes</span><span class="token punctuation">(</span><span class="token string">&#39;image&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div></li></ul><h4 id="selection-é€‰åŒºå‘½ä»¤"><a class="header-anchor" href="#selection-é€‰åŒºå‘½ä»¤" aria-hidden="true">#</a> selection é€‰åŒºå‘½ä»¤</h4><ul><li><p>blur</p><p>ä½¿ç¼–è¾‘å™¨å¤±å»ç„¦ç‚¹ã€‚</p></li><li><p>focus</p><p>å°†ç„¦ç‚¹è®¾ç½®å›ç¼–è¾‘å™¨ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢è®²åˆ°çš„å¤§éƒ¨åˆ†é“¾å¼å‘½ä»¤ä¸­éƒ½ç”¨äº† focus å‘½ä»¤ï¼Œå¹¶ä¸”å¯ä»¥é’ˆå¯¹å…‰æ ‡ä½ç½®è¿›è¡Œè®¾ç½®ï¼š</p><div class="language-js"><pre><code><span class="token comment">// è®¾ç½®ç¼–è¾‘å™¨è·å¾—ç„¦ç‚¹</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token comment">// è®¾ç½®å…‰æ ‡ä½äºç¼–è¾‘å™¨å¼€å§‹ä½ç½®</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span>\n\n<span class="token comment">// è®¾ç½®å…‰æ ‡ä½äºç¼–è¾‘å™¨ç»“å°¾ä½ç½®</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>\n\n<span class="token comment">// é€‰ä¸­å…¨éƒ¨æ–‡æ¡£</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token string">&#39;all&#39;</span><span class="token punctuation">)</span>\n\n<span class="token comment">// è®¾ç½®å…‰æ ‡åˆ°pos=10çš„ä½ç½®</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>\n\n<span class="token comment">// è®¾ç½®å…‰æ ‡ä½äºç»“å°¾ä½ç½®ï¼Œä½†æ˜¯æ»šåŠ¨æ¡ä¸æ»šåŠ¨åˆ°ç»“å°¾ï¼ˆå½“å†…å®¹é«˜åº¦å¤§äºç¼–è¾‘å™¨é«˜åº¦æœ‰æ»šåŠ¨æ¡æ—¶ï¼‰</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">scrollIntoView</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div></li><li><p>deleteRange</p><p>åˆ é™¤æŒ‡å®šèŒƒå›´å†…æ‰€æœ‰å†…å®¹ï¼Œå¦‚ï¼š</p><div class="language-js"><pre><code>editor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">deleteRange</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div></li><li><p>deleteSelection</p><p>åˆ é™¤å½“å‰é€‰ä¸­èŠ‚ç‚¹ã€‚</p></li><li><p>enter</p><p>è§¦å‘é”®ç›˜&quot;Enter&quot;ã€‚</p></li><li><p>scrollIntoView</p><p>å°†è§†å›¾æ»šåŠ¨åˆ°å½“å‰é€‰æ‹©æˆ–å…‰æ ‡ä½ç½®ã€‚</p></li><li><p>selectAll</p><p>é€‰ä¸­æ•´ä¸ªæ–‡æ¡£ã€‚</p></li><li><p>setNodeSelection</p><p>ç»™å®šä½ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹é€‰åŒºï¼Œå¦‚é€‰ä¸­å›¾ç‰‡ã€åˆ—è¡¨ç­‰å—å…ƒç´ ï¼Œä¼ å…¥èŠ‚ç‚¹çš„æ‰€åœ¨ä½ç½®ã€‚</p></li><li><p>setTextSelection</p><p>åˆ›å»ºä¸€ä¸ªæ–‡æœ¬é€‰åŒºï¼Œæ¥å— number æˆ– rangeï¼Œå¦‚æœä¼ å…¥ range æ—¶ä¼šé€‰ä¸­æ–‡æœ¬ï¼Œä¼ å…¥ number æ—¶åªæ˜¯ç§»åŠ¨å…‰æ ‡ä½ç½®ã€‚</p><div class="language-js"><pre><code><span class="token comment">// ä»…ç§»åŠ¨å…‰æ ‡</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">setTextSelection</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>\n<span class="token comment">// é€‰ä¸­æ–‡æœ¬åŒºåŸŸ</span>\neditor<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">setTextSelection</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div></li></ul><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦è®²äº† Tiptap å®ä¾‹æ–¹æ³•å’Œå¸¸ç”¨å‘½ä»¤ï¼Œè®°ä½ä¸è¦<strong>æ··æ·†å®ä¾‹æ–¹æ³•å’Œå‘½ä»¤</strong>ã€‚æˆ‘ä»¬åªéœ€è¦è®°ä½è¿™äº› API çš„å¤§æ¦‚ä½œç”¨ï¼Œè„‘è¢‹é‡Œæœ‰ä¸ªâ€œå½±å­â€ã€‚ä¸€æ—¦æŸä¸ªåœ°æ–¹éœ€è¦è¿™ä¹ˆåšçš„æ—¶å€™ï¼Œè¦èƒ½å›å¿†èµ·å¥½åƒå·²ç»æœ‰æ–¹æ³•å®ç°äº†ï¼Œç„¶åå†å»è¯¦ç»†æŸ¥çœ‹å¯¹åº”çš„æ–¹æ³•ï¼Œæœ€ç»ˆä½¿ç”¨å®ƒå¹¶è§£å†³é—®é¢˜ï¼Œè¿™å¥—æ€æƒ³é€‚ç”¨äºæ‰€æœ‰ API è¾ƒå¤šçš„ç»„ä»¶ã€æ¡†æ¶ç­‰ã€‚</p><p>è¿™ç¯‡æ–‡ç« å®Œåï¼Œå…³äºè‡ªå®šä¹‰èŠ‚ç‚¹ã€æ ‡è®°æ‰©å±•ç­‰çš„æ–‡ç« æš‚æ—¶ä¸å†æ›´æ–°ã€‚leader å®‰æ’æˆ‘åš webrtc éŸ³è§†é¢‘é€šè¯çš„è°ƒç ”å·¥ä½œï¼Œç­‰å®Œæˆè¿™éƒ¨åˆ†å·¥ä½œåç»§ç»­æ›´æ–°ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œæ”¶è— ğŸ™ï¼Œå¦‚æœå‘ç°æœ‰ä»€ä¹ˆé”™è¯¯æˆ–è€…æ›´å¥½çš„è§£å†³æ–¹æ¡ˆåŠå»ºè®®ï¼Œæ¬¢è¿éšæ—¶è”ç³»ã€‚</p>',79)];p.render=function(a,t,p,e,c,u){return n(),s("div",null,o)};export{t as __pageData,p as default};
